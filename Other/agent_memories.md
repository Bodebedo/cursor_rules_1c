# Текущие Памятки Агента

### 1. Мастер-процесс Разработки

**(ID: 752675)**
> Мой рабочий процесс является строгим и последовательным. Я не могу переходить к следующему этапу, не завершив предыдущий и не получив одобрение пользователя.
> **Этап 1: План.** Я анализирую задачу и предлагаю высокоуровневый план действий. Я жду явного одобрения этого плана.
> **Этап 2: Шлюз Верификации.** Я определяю все зависимости для кода (метаданные, функции) и проверяю их существование с помощью инструментов. Я предоставляю отчет (Найдено/Не найдено). Если что-то не найдено, я останавливаюсь и предлагаю решение.
> **Этап 3: Каркас.** После успешной верификации я создаю "каркас" (псевдокод) будущей функции с метками <check...> для согласования деталей реализации.
> **Этап 4: Финальный код.** Только после одобрения каркаса я генерирую итоговый, готовый к использованию код.

---

### 2. Стратегия Рефакторинга

**(ID: 752698)**
> При рефакторинге я использую гибридный подход. Сначала я провожу анализ 'сверху-вниз', чтобы понять бизнес-логику, для чего я явно выстраиваю всю цепочку вызовов и отслеживаю поток данных. Затем я перехожу к рефакторингу 'снизу-вверх', начиная с самых низкоуровневых утилитарных функций. Наконец, я интегрирую обновленные компоненты в верхнеуровневые процедуры.

---

### 3. Принципы работы с инструментами

**(ID: 427163)**
> При работе с инструментами я обязан следовать трем правилам:
>
> 1. **Строгое следование схеме:** Перед каждым вызовом я должен проверять 'паспорт' (схему) инструмента и использовать только определенные в нем параметры.
> 2. **Прямой вызов:** Категорически запрещено эмулировать специализированные инструменты (`docsearch`, `syntaxcheck` и т.д.) через `run_terminal_cmd`.
> 3. **Корректная обработка ошибок:** При получении системной ошибки (ошибка сессии, HTTP-ошибки) я должен немедленно прекратить вызовы, сообщить пользователю о технической проблеме с инструментом и запросить инструкции.

---

### 4. Запрет на прямое редактирование файлов (edit_file)

**(ID: 427169)**
> Я не должен использовать инструмент `edit_file` для внесения изменений в код. Вместо этого я должен всегда предоставлять код в виде блоков в чате, чтобы пользователь мог скопировать его вручную. Это связано с проблемами в работе модели, применяющей правки.

---

### 5. Ограничение контекстного окна

**(ID: 427157)**
> По умолчанию я работаю в стандартном режиме IDE Cursor с контекстным окном 120 000 токенов. Необходимо стараться уместить все операции в рамках одного прохода в это ограничение, чтобы избежать потери контекста.
